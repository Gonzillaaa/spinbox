[2025-07-07 19:38:09] [INFO] Test environment initialized at /tmp/project-template-tests-42402
[2025-07-07 19:38:09] [INFO] ✓ validate_project_name: Valid project name with hyphens
[2025-07-07 19:38:09] [INFO] ✓ validate_project_name: Valid project name with numbers
[2025-07-07 19:38:09] [INFO] ✓ validate_project_name: Valid project name with underscores
[2025-07-07 19:38:09] [ERROR] Invalid project name. Use lowercase letters, numbers, hyphens and underscores only.
[2025-07-07 19:38:09] [INFO] ✓ validate_project_name: Invalid project name with uppercase
[2025-07-07 19:38:09] [ERROR] Invalid project name. Use lowercase letters, numbers, hyphens and underscores only.
[2025-07-07 19:38:09] [INFO] ✓ validate_project_name: Invalid project name with spaces
[2025-07-07 19:38:09] [ERROR] Invalid project name. Use lowercase letters, numbers, hyphens and underscores only.
[2025-07-07 19:38:09] [INFO] ✓ validate_project_name: Invalid project name starting with hyphen
[2025-07-07 19:38:09] [INFO] ✓ validate_project_name: Valid project name starting with number
[2025-07-07 19:38:09] [INFO] ✓ validate_email: Valid simple email
[2025-07-07 19:38:09] [INFO] ✓ validate_email: Valid complex email
[2025-07-07 19:38:09] [INFO] ✓ validate_email: Valid email with numbers and hyphens
[2025-07-07 19:38:09] [ERROR] Invalid email format.
[2025-07-07 19:38:09] [INFO] ✓ validate_email: Invalid email without @
[2025-07-07 19:38:09] [ERROR] Invalid email format.
[2025-07-07 19:38:09] [INFO] ✓ validate_email: Invalid email without domain
[2025-07-07 19:38:09] [ERROR] Invalid email format.
[2025-07-07 19:38:09] [INFO] ✓ validate_email: Invalid email without user
[2025-07-07 19:38:09] [ERROR] Invalid email format.
[2025-07-07 19:38:09] [INFO] ✓ validate_email: Invalid email without TLD
[2025-07-07 19:38:09] [INFO] ✓ validate_url: Valid HTTPS URL
[2025-07-07 19:38:09] [INFO] ✓ validate_url: Valid HTTP URL
[2025-07-07 19:38:09] [INFO] ✓ validate_url: Valid URL with subdomain and path
[2025-07-07 19:38:09] [ERROR] Invalid URL format.
[2025-07-07 19:38:09] [INFO] ✓ validate_url: Invalid protocol
[2025-07-07 19:38:09] [ERROR] Invalid URL format.
[2025-07-07 19:38:09] [INFO] ✓ validate_url: Invalid URL without TLD
[2025-07-07 19:38:09] [ERROR] Invalid URL format.
[2025-07-07 19:38:09] [INFO] ✓ validate_url: Invalid URL format
[2025-07-07 19:38:09] [DEBUG] Wrote to /tmp/project-template-tests-42402/test_file.txt
[2025-07-07 19:38:09] [INFO] ✓ safe_write_file: File should be created
[2025-07-07 19:38:09] [INFO] ✓ safe_write_file: File content should match
[2025-07-07 19:38:09] [DEBUG] Backed up /tmp/project-template-tests-42402/test_file.txt to /Users/gonzalo/code/project-template/.backups/test_file.txt.backup.1751909889
[2025-07-07 19:38:09] [DEBUG] Wrote to /tmp/project-template-tests-42402/test_file.txt
[2025-07-07 19:38:09] [INFO] ✓ safe_write_file: File content should be updated
[2025-07-07 19:38:09] [ERROR] ✗ safe_write_file: Backup should be created
[2025-07-07 19:38:09] [ERROR]   Condition evaluated to: '1'
[2025-07-07 19:38:09] [DEBUG] Created directory /tmp/project-template-tests-42402/test_directory
[2025-07-07 19:38:09] [ERROR] ✗ safe_create_dir: Directory should be created
[2025-07-07 19:38:09] [ERROR]   Condition evaluated to: '-d "/tmp/project-template-tests-42402/test_directory"'
[2025-07-07 19:38:09] [ERROR] ✗ safe_create_dir: Directory should still exist
[2025-07-07 19:38:09] [ERROR]   Condition evaluated to: '-d "/tmp/project-template-tests-42402/test_directory"'
[2025-07-07 19:38:09] [DEBUG] bash is available
[2025-07-07 19:38:09] [INFO] ✓ check_command: bash command should exist
[2025-07-07 19:38:09] [ERROR] nonexistent-command-12345 is not installed. Please install nonexistent-command-12345 and try again.
[2025-07-07 19:38:09] [INFO] ✓ check_command: Non-existent command should fail check
[2025-07-07 19:38:09] [INFO] ✓ confirm: Should return default (no) when skipping confirmations
[2025-07-07 19:38:09] [DEBUG] Backed up /tmp/project-template-tests-42402/backup_test.txt to /Users/gonzalo/code/project-template/.backups/backup_test.txt.backup.1751909889
[2025-07-07 19:38:09] [ERROR] ✗ backup_and_restore: Rollback action should be added
[2025-07-07 19:38:09] [ERROR]   Condition evaluated to: '1'
[2025-07-07 19:38:09] [ERROR] ✗ backup_and_restore: Backup file should exist
[2025-07-07 19:38:09] [ERROR]   Condition evaluated to: '1'
[2025-07-07 19:38:09] [DEBUG] Restored /tmp/project-template-tests-42402/backup_test.txt from /Users/gonzalo/code/project-template/.backups/backup_test.txt.backup.1751909889
[2025-07-07 19:38:09] [INFO] ✓ backup_and_restore: Content should be restored
[2025-07-07 19:38:09] [INFO] DRY RUN: Would write to /tmp/project-template-tests-42402/dry_run_test.txt
[2025-07-07 19:38:09] [ERROR] ✗ dry_run_mode: File should not be created in dry run mode
[2025-07-07 19:38:09] [ERROR]   Condition evaluated to: '-f "/tmp/project-template-tests-42402/dry_run_test.txt"'
[2025-07-07 19:38:09] [INFO] DRY RUN: Would create directory /tmp/project-template-tests-42402/dry_run_dir
[2025-07-07 19:38:09] [ERROR] ✗ dry_run_mode: Directory should not be created in dry run mode
[2025-07-07 19:38:09] [ERROR]   Condition evaluated to: '-d "/tmp/project-template-tests-42402/dry_run_dir"'
[2025-07-07 19:38:09] [DEBUG] Created directory /tmp/project-template-tests-42402/.config
[2025-07-07 19:38:09] [ERROR] ✗ configuration_functions: Config directory should be created
[2025-07-07 19:38:09] [ERROR]   Condition evaluated to: '-d "/tmp/project-template-tests-42402/.config"'
[2025-07-07 19:38:09] [DEBUG] Saved configuration to /tmp/project-template-tests-42402/.config/test.conf
[2025-07-07 19:38:09] [INFO] ✓ configuration_functions: Config file should be created
[2025-07-07 19:38:09] [DEBUG] Loaded configuration from /tmp/project-template-tests-42402/.config/test.conf
[2025-07-07 19:38:09] [INFO] ✓ configuration_functions: TEST_VAR1 should be loaded
[2025-07-07 19:38:09] [INFO] ✓ configuration_functions: TEST_VAR2 should be loaded
[2025-07-07 19:38:09] [WARN] Attempt 1 failed. Retrying in 0.1s...
[2025-07-07 19:38:09] [WARN] Attempt 2 failed. Retrying in 0.1s...
[2025-07-07 19:38:09] [INFO] ✓ retry_function: Retry should succeed after multiple attempts
[2025-07-07 19:38:09] [INFO] ✓ retry_function: Should have taken 3 attempts
[2025-07-07 19:38:09] [INFO] Test environment cleaned up
[2025-07-07 19:38:09] [INFO] Test Summary:
[2025-07-07 19:38:09] [ERROR] 8 test(s) failed! ✗
